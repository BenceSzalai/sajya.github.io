---
title: Batch request for JSON-RPC
description: 
extends: _layouts.documentation
section: content
---

# Request

## Batch

Пакетная обработка JSON позволяет оптимизировать приложение путем объединения нескольких запросов в один объект JSON.

Одним из премуществ JSON-RPC по сравнению с REST являеться возможность указания сразу нескольких запросов в одном.

![JSON RPC Batch Requests](/assets/img/batch-requests.svg)

Рассмотрим пример разницу с REST подходом. Например, общаетесь в мессенжере с друзьями и автобус заехал в тутель.
Интеренет пропал. Сообщения находятся в режиме ожидания:

Как только появиться соединение при REST подходе будет отправлено два сообщения на `https://api.example.com/v1.0/message/create`

Пакетная обработка позволяет избежать этого:

```php
[
  {
    "jsonrpc": "2.0",
    "method": "message@create",
    "params": "...",
    "id": 1
  },
  {
    "jsonrpc": "2.0",
    "method": "message@create",
    "params": "...",
    "id": 2
  }
]
```

В этом сценарии отдельные запросы никоим образом не являются взаимозависимыми и, следовательно, могут быть помещены в пакетный запрос в любом порядке. Ответы на пакетные запросы могут отображаться в другом порядке. Свойство `id` может быть использовано для корреляции индивидуальных запросов и ответов.

<!--
![JSON PRC Notifications](/assets/img/notifications.svg)
-->
